(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{213:function(s,t,a){"use strict";a.r(t);var e=a(28),i=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_1-搭建lvs-dr模式-配置ipvsadm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-搭建lvs-dr模式-配置ipvsadm"}},[s._v("#")]),s._v(" 1.搭建LVS-DR模式-配置ipvsadm")]),s._v(" "),a("h2",{attrs:{id:"前期准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前期准备"}},[s._v("#")]),s._v(" 前期准备")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("所有计算机节点关闭网络配置管理器，因为有可能会和网络接口冲突")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl stop NetworkManager\nsystemctl disable NetworkManager\n")])])])])]),s._v(" "),a("h2",{attrs:{id:"_1-创建子接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建子接口"}},[s._v("#")]),s._v(" 1.创建子接口")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 进入指定目录\ncd /etc/sysconfig/network-script/\n\n# 拷贝并创建子接口\ncp ifcfg-ens33 ifcfg-ens33:1\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("ifcfg-ens33:1 数字1为别名，可以任意取名都行")])]),s._v(" "),a("h2",{attrs:{id:"_2-修改子接口配置，配置如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改子接口配置，配置如下"}},[s._v("#")]),s._v(" 2.修改子接口配置，配置如下")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('vim ifcfg-ens33:1\n\nDEVICE="ens33:1"\nONBOOT="yes"\nIPADDR=192.168.64.120\nNETMASK=255.255.255.0\nBOOTPROTO="static"\n')])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("192.168.64.120 就是虚拟ip，是提供给外网用户访问的ip地址，道理和nginx-keepalived的虚拟ip一样")])]),s._v(" "),a("h2",{attrs:{id:"_3-重启网络服务，或者重启linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-重启网络服务，或者重启linux"}},[s._v("#")]),s._v(" 3.重启网络服务，或者重启linux")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("service network restart\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("ip addr 就可以看到自己创建的虚拟ip了")])]),s._v(" "),a("h2",{attrs:{id:"_4-安装ipvsadm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装ipvsadm"}},[s._v("#")]),s._v(" 4.安装ipvsadm")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install ipvsadm\n\n# 查看列表\nipvsadm -Ln\n")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);