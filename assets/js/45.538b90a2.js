(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{245:function(s,a,t){"use strict";t.r(a);var e=t(28),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"安装与配置redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装与配置redis"}},[s._v("#")]),s._v(" 安装与配置Redis")]),s._v(" "),t("ul",[t("li",[s._v("下载redis：https://redis.io/download")]),s._v(" "),t("li",[s._v("选择下载稳定版本，不稳定版本可以尝鲜，但是不推荐在生产使用。")]),s._v(" "),t("li",[s._v("redis学习文档：http://redisdoc.com/index.html")])]),s._v(" "),t("h2",{attrs:{id:"_1-上传至linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-上传至linux"}},[s._v("#")]),s._v(" 1.上传至linux")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("scp redis-5.0.5.tar.gz root@ip:/home/software\n")])])]),t("h2",{attrs:{id:"_2-安装redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装redis"}},[s._v("#")]),s._v(" 2.安装Redis")]),s._v(" "),t("h3",{attrs:{id:"_2-1-解压redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-解压redis"}},[s._v("#")]),s._v(" 2.1 解压redis")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("tar -zxvf redis-5.0.5.tar.gz\n")])])]),t("h3",{attrs:{id:"_2-2-安装gcc编译环境，如果已经安装过了，那么就是-nothing-to-do"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-安装gcc编译环境，如果已经安装过了，那么就是-nothing-to-do"}},[s._v("#")]),s._v(" 2.2 安装gcc编译环境，如果已经安装过了，那么就是 nothing to do")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum install gcc-c++\n")])])]),t("h3",{attrs:{id:"_2-3-进入到-redis-5-0-5目录，进行安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-进入到-redis-5-0-5目录，进行安装"}},[s._v("#")]),s._v(" 2.3 进入到 redis-5.0.5目录，进行安装")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd redis-5.0.5\n\nmake && make install\n")])])]),t("h2",{attrs:{id:"_3-设置开机自动启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-设置开机自动启动"}},[s._v("#")]),s._v(" 3.设置开机自动启动")]),s._v(" "),t("h3",{attrs:{id:"_3-1配置redis-在utils下，拷贝redis-init-script到-etc-init-d目录，目的要把redis作为开机自启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1配置redis-在utils下，拷贝redis-init-script到-etc-init-d目录，目的要把redis作为开机自启动"}},[s._v("#")]),s._v(" 3.1配置redis,在"),t("code",[s._v("utils")]),s._v("下，拷贝"),t("code",[s._v("redis_init_script")]),s._v("到"),t("code",[s._v("/etc/init.d")]),s._v("目录，目的要把redis作为开机自启动")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cd /home/software/redis-5.0.5/utils\n\ncp redis_init_script /etc/init.d\n")])])]),t("h3",{attrs:{id:"_3-2创建-usr-local-redis-用于存放配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2创建-usr-local-redis-用于存放配置文件"}},[s._v("#")]),s._v(" 3.2创建 "),t("code",[s._v("/usr/local/redis")]),s._v(" 用于存放配置文件")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mkdir /usr/local/redis\n")])])]),t("h3",{attrs:{id:"_3-3-拷贝配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-拷贝配置文件"}},[s._v("#")]),s._v(" 3.3 拷贝配置文件")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cp redis.conf /usr/local/redis/\n")])])]),t("h3",{attrs:{id:"_3-4-修改redis-conf核心配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-修改redis-conf核心配置文件"}},[s._v("#")]),s._v(" 3.4 修改redis.conf核心配置文件")]),s._v(" "),t("h4",{attrs:{id:"_3-4-1修改-daemonize-no-daemonize-yes，目的是为了让redis启动在linux后台运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-1修改-daemonize-no-daemonize-yes，目的是为了让redis启动在linux后台运行"}},[s._v("#")]),s._v(" 3.4.1修改 daemonize no -> daemonize yes，目的是为了让redis启动在linux后台运行")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("daemonize yes\n")])])]),t("h4",{attrs:{id:"_3-4-2-修改-redis的工作目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-2-修改-redis的工作目录"}},[s._v("#")]),s._v(" 3.4.2 修改 redis的工作目录")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("dir /usr/local/redis/working\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("/usr/local/redis/working ,这么目录随意")])]),s._v(" "),t("h4",{attrs:{id:"_3-4-3-修改绑定的ip-12-7-0-1-0-0-0-0，代表可以让远程连接，不收ip限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-3-修改绑定的ip-12-7-0-1-0-0-0-0，代表可以让远程连接，不收ip限制"}},[s._v("#")]),s._v(" 3.4.3 修改绑定的ip 12.7.0.1 -> 0.0.0.0，代表可以让远程连接，不收ip限制")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bind 0.0.0.0\n")])])]),t("h3",{attrs:{id:"_3-5-修改-etc-init-d目录下的redis-init-script-文件中的核心配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-修改-etc-init-d目录下的redis-init-script-文件中的核心配置文件"}},[s._v("#")]),s._v(" 3.5 修改"),t("code",[s._v("/etc/init.d")]),s._v("目录下的r"),t("code",[s._v("edis_init_script")]),s._v(" 文件中的核心配置文件")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('CONF="/usr/local/redis/redis.conf"\n')])])]),t("h3",{attrs:{id:"_3-6-为redis启动脚本添加执行权限，然后运行启动redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-为redis启动脚本添加执行权限，然后运行启动redis"}},[s._v("#")]),s._v(" 3.6 为redis启动脚本添加执行权限，然后运行启动redis")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod 777 redis_init_script\n\n./redis_init_script start\n")])])]),t("h3",{attrs:{id:"_3-7-检查redis进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-检查redis进程"}},[s._v("#")]),s._v(" 3.7 检查redis进程")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ps -ef | grep redis\n")])])]),t("h3",{attrs:{id:"_3-8-设置redis开启自启动，修改redis-init-script-添加如下内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-设置redis开启自启动，修改redis-init-script-添加如下内容"}},[s._v("#")]),s._v(" 3.8 设置redis开启自启动，修改"),t("code",[s._v("redis_init_script")]),s._v(",添加如下内容")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#chkconfig: 22345 10 90\n#description: Start and Stop redis\n")])])]),t("ul",[t("li",[t("p",[s._v("随后执行如下操作")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chkconfig redis_init_script on\n")])])])])]),s._v(" "),t("h3",{attrs:{id:"_3-9-重启redis查看进程："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-重启redis查看进程："}},[s._v("#")]),s._v(" 3.9 重启redis查看进程：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ps -ef | grep redis\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);